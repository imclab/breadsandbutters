{% extends "/main.html" %}

{% block body %}
<div class="row">
   
    <div class="offset2 span4" style="margin-top:100px">
        <h1>Register</h1> 

        {% with messages = get_flashed_messages(category_filter=["register"]) %}
          {% if messages %}
            <ul class=flashes>
            {% for message in messages %}
              <li class="alert">{{ message }}</li>
            {% endfor %}
            </ul>
          {% endif %}
        {% endwith %}

        {% if form.errors %}
        <ul class="errors">
            {% for field_name, field_errors in form.errors|dictsort if field_errors %}
                {% for error in field_errors %}
                    <li class="alert">{{ form[field_name].label }}: {{ error }}</li>
                {% endfor %}
            {% endfor %}
        </ul>
        {% endif %}


        <div class="span5 offset2" style="margin-left:100px">
            <small>(all fields required)</small>
        
            <form action="/register" method="POST" enctype="multipart/form-data">
                {{ form.csrf_token }} 
                <br>
                <br>
                {{ form.username.label }} {{ form.username }} 
                <br>
                <br>
                {{ form.email.label }} {{ form.email }}
                <br>
                <br>
                <label for="uploadfield" id="upload_label">Upload a photo:</label>
                <input type="file" id="fileupload" name="fileupload">
                <br>
                <br>
                {{ form.password.label }} {{ form.password }}
                <br>
                <br>
                {{ form.confirm.label }} {{ form.confirm }}
                <br>
                <br>
                <input type="submit" class="btn" value="Go"> 
            </form>
        </div>
    </div>
</div>
{% endblock %}


{% block styles %}{% endblock %}
{% block scripts %}{% endblock %}
